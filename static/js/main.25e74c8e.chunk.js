(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,n,t){e.exports=t(62)},57:function(e,n,t){},62:function(e,n,t){"use strict";t.r(n);var a,r,c=t(0),o=t.n(c),u=t(30),i=t.n(u),l=(t(57),t(10)),p=t(11),b=t(15),d=t(12),s=t(16),f=t(14),O=function(e){function n(){return Object(l.a)(this,n),Object(b.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(p.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.name,t=e.bingo;console.log("did update (BoardScore)",n,t)}},{key:"render",value:function(){var e=this.props,n=e.name,t=e.bingo;return o.a.createElement(c.Fragment,null,o.a.createElement("h1",null,n),"\ube59\uace0 : ",o.a.createElement("span",null," ",t," "))}}]),n}(c.Component),j=Object(f.b)(function(e,n){var t=n.name;return{bingo:e.app.players[t]&&e.app.players[t].bingo}},{})(O),m=function(e){var n=e.children;return o.a.createElement("tr",null,n)},y=function(e){return{type:"[app] \ud83d\ude80 onGame",text:e}},h=function(e,n){return{type:"[app] \ud83c\udf81 setBingo",name:e,bingo:n}},v=function(e){function n(){return Object(l.a)(this,n),Object(b.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(p.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.name,t=e.id,a=e.check;console.log("did update (BoardCell)",n,t,a)}},{key:"render",value:function(){var e=this.props.name,n=this.props,t=n.onCell,a=n.num,r=n.check;return o.a.createElement("td",{onClick:function(n){return a&&t(e,a)},style:{backgroundColor:r?"red":""}},a)}}]),n}(c.Component),g={onCell:function(e,n){return{type:"[board] \ud83d\ude80 onCell",name:e,cell_num:n}}},k=Object(f.b)(function(e,n){var t=n.name,a=n.id,r=e.board[t]&&e.board[t].board[a]||{num:"",check:!1};return{num:r.num,check:r.check}},g)(v),E=t(7),w=function(e){function n(){return Object(l.a)(this,n),Object(b.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.addPlayer)(e.name)}},{key:"componentDidUpdate",value:function(){var e=this.props;(0,e.onBoard)(e.name,e.row,e.col)}},{key:"render",value:function(){var e=this.props,n=e.name,t=e.row,a=e.col,r=0;return o.a.createElement("article",null,o.a.createElement(j,{name:n}),o.a.createElement("table",null,o.a.createElement("tbody",null,Object(E.d)(0,t).map(function(e){return o.a.createElement(m,{key:e},Object(E.d)(0,a).map(function(e){return o.a.createElement(k,{key:e,id:r++,name:n})}))}))))}}]),n}(c.Component),C={addPlayer:function(e){return{type:"[app] \ud83c\udf81 addPlayer",name:e}},onBoard:function(e,n,t){return{type:"[board] \ud83d\ude80 onBoard",name:e,row:n,col:t}}},B=Object(f.b)(function(e){return{tick:e.app.tick}},C)(w),_=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(b.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(r)))).state={flag:!0},t}return Object(s.a)(n,e),Object(p.a)(n,[{key:"render",value:function(){var e=this,n=this.state.flag,t=this.props.onGame;return o.a.createElement("button",{onClick:function(a){n&&e.setState({flag:!1}),t()}},n?"\uac8c\uc784\uc2dc\uc791":"\uac8c\uc784 \uc7ac\uc2dc\uc791")}}]),n}(c.Component),$=function(e){function n(){return Object(l.a)(this,n),Object(b.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(p.a)(n,[{key:"render",value:function(){var e=this.props.onGame;return o.a.createElement("div",{className:"App"},o.a.createElement(B,{name:"player1",row:5,col:5}),o.a.createElement(B,{name:"player2",row:5,col:5}),o.a.createElement(_,{onGame:e}))}}]),n}(c.Component),S={onGame:y},D=Object(f.b)(function(e){return{}},S)($),G=t(21),P=t(64),R=t(5),T=t(19),U=t.n(T),x=t(31),F=Object(x.createReducer)({tick:0,players:{},turn_id:0},(a={},Object(R.a)(a,"[app] \ud83d\ude80 onGame",function(e,n){var t=n.text;return t&&alert(t),U()(e,{tick:{$set:e.tick+1}})}),Object(R.a)(a,"[app] \ud83c\udf81 addPlayer",function(e,n){var t=n.name;return U()(e,{players:{$merge:Object(R.a)({},t,{id:Object.keys(e.players).length,bingo:0})}})}),Object(R.a)(a,"[app] \ud83c\udf81 setTurn",function(e,n){var t=n.id;return U()(e,{turn_id:{$set:t}})}),Object(R.a)(a,"[app] \ud83c\udf81 setBingo",function(e,n){var t=n.name,a=n.bingo;return U()(e,{players:Object(R.a)({},t,{bingo:{$set:a}})})}),Object(R.a)(a,"[app] \ud83c\udf81 clearBingo",function(e,n){var t=n.name;return U()(e,{players:Object(R.a)({},t,{bingo:{$set:0}}),turn_id:{$set:0}})}),a)),M=Object(x.createReducer)({},(r={},Object(R.a)(r,"[board] \ud83c\udf81 setBoard",function(e,n){var t=n.name,a=n.row,r=n.col,c=n.board;return U()(e,Object(R.a)({},t,{$set:{row:a,col:r,board:c}}))}),Object(R.a)(r,"[board] \ud83c\udf81 onCellSuccess",function(e,n){var t=n.name,a=n.cell_id;return U()(e,Object(R.a)({},t,{board:Object(R.a)({},a,{check:{$set:!0}})}))}),Object(R.a)(r,"[board] \ud83c\udf81 onCellFailure",function(e,n){var t=n.err;return alert(t),e}),r)),N=Object(G.c)({app:F,board:M}),A=t(65),I=t(51),J=t(66),X=t(37),L=t(63),V=t(48),q=t(50),z=t(8),H=function(e,n,t){var a=0;return Object(E.d)(0,n).reduce(function(n,r){return n[r]=Object(E.d)(0,t).reduce(function(n,t){return n[t]=e[a++],n},[]),n},[])},K=function(e){return e.reduce(function(e,n,t){return n.forEach(function(n,a){!e[a]&&(e[a]=[]),e[a][t]=n}),e},[])},Q=function(e){return e.reduce(function(n,t){return t.forEach(function(t,a){0===a&&n.data[0].push(e[n.left][n.left]),n.right===a&&n.data[1].push(t)}),n.left++,n.right--,n},{data:[[],[]],left:0,right:e.length-1}).data},W=function(e){return e.map(function(e){return Object(E.a)(function(e){return e.check},e)}).filter(function(e){return e})},Y=Object(A.a)(function(e){return e.pipe(Object(I.a)("[board] \ud83d\ude80 onBoard"),Object(L.a)(function(e){return console.log(e)}),Object(V.a)(function(e){var n=e.name,t=e.row,a=e.col;return{name:n,row:t,col:a,board:E.c(E.b(function(e){return{num:e,check:!1}}),E.e(function(e){return.5-Math.random()}))(E.d(1,t*a+1))}}),Object(q.a)(function(e){var n=e.name,t=e.row,a=e.col,r=e.board;return Object(J.a)(Object(X.a)(function(e){return{type:"[app] \ud83c\udf81 clearBingo",name:e}}(n)),Object(X.a)(function(e,n,t,a){return{type:"[board] \ud83c\udf81 setBoard",name:e,row:n,col:t,board:a}}(n,t,a,r)))}))},function(e,n){return e.pipe(Object(I.a)("[board] \ud83d\ude80 onCell"),Object(L.a)(function(e){return console.log(e)}),Object(q.a)(function(e){var t,a,r=e.name,c=e.cell_num,o=n.value.app.players[r].id,u=n.value.app.turn_id,i=Object.keys(n.value.app.players).length-1>u?u+1:0;return J.a.apply(void 0,Object(z.a)(o===u?[].concat(Object(z.a)(Object.keys(n.value.board).map(function(e){var t=n.value.board[e].board.reduce(function(e,n,t){return n.num===c&&(e=t),e},0);return Object(J.a)(Object(X.a)(function(e,n){return{type:"[board] \ud83c\udf81 onCellSuccess",name:e,cell_id:n}}(e,t)),Object(X.a)(function(e){return{type:"[board] \ud83d\ude80 onBingo",name:e}}(e)))})),[Object(X.a)((a=i,{type:"[app] \ud83c\udf81 setTurn",id:a}))]):[Object(X.a)((t="".concat(r,"\ub2d8\uc758 \ucc28\ub840\uac00 \uc544\ub2d9\ub2c8\ub2e4."),{type:"[board] \ud83c\udf81 onCellFailure",err:t}))]))}))},function(e,n){return e.pipe(Object(I.a)("[board] \ud83d\ude80 onBingo"),Object(L.a)(function(e){return console.log(e)}),Object(V.a)(function(e){var t=e.name;return{name:t,board:H(n.value.board[t].board,n.value.board[t].row,n.value.board[t].col)}}),Object(V.a)(function(e){var n=e.name,t=e.board;return{name:n,bingo:W(t).length+W(K(t)).length+W(Q(t)).length}}),Object(q.a)(function(e){var t=e.name,a=e.bingo,r=Object.keys(n.value.app.players).length-1;return J.a.apply(void 0,Object(z.a)([Object(X.a)(h(t,a)),r===function(e){return n.value.app.players[e]}(t).id&&Object(X.a)({type:"[app] \ud83d\ude80 onResult"})].filter(function(e){return e})))}))},function(e,n){return e.pipe(Object(I.a)("[app] \ud83d\ude80 onResult"),Object(L.a)(function(e){return console.log(e)}),Object(V.a)(function(){var e=Object.keys(n.value.app.players).reduce(function(e,t){return n.value.app.players[t].bingo>4&&e.push(t),e},[]);return e.length?y("".concat(e," ").concat(e.length>1?"\ub2d8\uacfc \ubb34\uc2b9\ubd80\uc785\ub2c8\ub2e4.":"\ub2d8\uc774 \ube59\uace0\ub97c \uc644\uc131\ud588\uc2b5\ub2c8\ub2e4.")):{type:null}}))}),Z=Object(P.a)(),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ne=Object(G.e)(N,ee(Object(G.a)(Z)));Z.run(Y);var te=ne;i.a.render(o.a.createElement(f.a,{store:te},o.a.createElement(D,null)),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.25e74c8e.chunk.js.map